"use strict";var UI=function(){var c,o=document.getElementById("reviews-list");return{addReview:function(e){e.preventDefault();var n=d.select(".review-name"),t=d.select(".review-rating"),r=d.select(".review-comment"),i=window.location.href,a={idRestaurant:c=Number.isNaN(+i.slice(-2))?i.slice(-1):i.slice(-2),name:n.value,rating:t.value,comment:r.value};return Promise.resolve(a)},updateReviewsDB:function(e,t){e.then(function(e){var n=e.transaction("reviews","readwrite");return n.objectStore("reviews").put(t),n.complete}).then(function(){return console.log("added")})},appendReview:function(e){o.innerHTML="",e.then(function(e){return e.transaction("reviews").objectStore("reviews").getAll()}).then(function(e){return e.filter(function(e){return e.idRestaurant===c})}).then(function(e){e.map(function(e){var n,t,r,i,a;o.appendChild((n=e.name,t=e.rating,r=e.comment,i=document.createElement("li"),a="<h4>From ".concat(n,"</h4>\n        <p>Rating: ").concat(t,"</p>\n        <p>").concat(r,"</p>"),i.innerHTML=a,i))})})}}}();